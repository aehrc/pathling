{
  "resourceType": "OperationDefinition",
  "name": "bulk-submit",
  "title": "Pathling Bulk Submit Operation",
  "status": "active",
  "kind": "operation",
  "experimental": true,
  "publisher": "Australian e-Health Research Centre, CSIRO",
  "description": "This operation allows external systems to push bulk data to the server using the Argonaut $bulk-submit specification. The operation supports a staged submission workflow where the submitter first notifies of an in-progress export, then provides the manifest URL when complete.",
  "affectsState": true,
  "code": "bulk-submit",
  "system": true,
  "type": false,
  "instance": false,
  "parameter": [
    {
      "name": "submissionId",
      "use": "in",
      "min": 1,
      "max": "1",
      "documentation": "A unique identifier for this submission, generated by the submitting system.",
      "type": "string"
    },
    {
      "name": "submitter",
      "use": "in",
      "min": 1,
      "max": "1",
      "documentation": "An identifier for the submitting system. Must match an entry in the server's allowed submitters list.",
      "type": "Identifier"
    },
    {
      "name": "submissionStatus",
      "use": "in",
      "min": 1,
      "max": "1",
      "documentation": "The status of the submission: 'in-progress' (export still running), 'complete' (export finished, manifest available), or 'aborted' (export was cancelled).",
      "type": "Coding"
    },
    {
      "name": "manifestUrl",
      "use": "in",
      "min": 0,
      "max": "1",
      "documentation": "The URL of the bulk export manifest file. Required when submissionStatus is 'complete'.",
      "type": "string"
    },
    {
      "name": "fhirBaseUrl",
      "use": "in",
      "min": 0,
      "max": "1",
      "documentation": "The base URL of the FHIR server that produced the manifest. Required when submissionStatus is 'complete'.",
      "type": "string"
    },
    {
      "name": "replacesManifestUrl",
      "use": "in",
      "min": 0,
      "max": "1",
      "documentation": "The URL of a previous manifest that this submission replaces.",
      "type": "string"
    },
    {
      "name": "fileRequestHeader",
      "use": "in",
      "min": 0,
      "max": "*",
      "documentation": "Custom HTTP headers to include when downloading files from the manifest.",
      "part": [
        {
          "name": "headerName",
          "use": "in",
          "min": 1,
          "max": "1",
          "documentation": "The name of the HTTP header.",
          "type": "string"
        },
        {
          "name": "headerValue",
          "use": "in",
          "min": 1,
          "max": "1",
          "documentation": "The value of the HTTP header.",
          "type": "string"
        }
      ]
    },
    {
      "name": "metadata",
      "use": "in",
      "min": 0,
      "max": "1",
      "documentation": "Optional metadata associated with the submission.",
      "part": [
        {
          "name": "label",
          "use": "in",
          "min": 0,
          "max": "1",
          "documentation": "A human-readable label for this submission.",
          "type": "string"
        },
        {
          "name": "description",
          "use": "in",
          "min": 0,
          "max": "1",
          "documentation": "A description of this submission.",
          "type": "string"
        }
      ]
    }
  ]
}
