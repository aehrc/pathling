tests:
  - 'Membership operators':
      - 'Quantity type':
          - desc: '** In for existing quantity in many **'
            expression: "80 'mm[Hg]' in component.value.ofType(Quantity)"
            inputfile: 'Observation_3_comp.json'
            result: [ true ]
          - desc: '** Contains for existing quantity in many **'
            expression: "component.value.ofType(Quantity) contains 72 '/min'"
            inputfile: 'Observation_3_comp.json'
            result: [ true ]
          - desc: '** In for non-existing quantity in many **'
            expression: "72 'mm[Hg]' in component.value.ofType(Quantity)"
            inputfile: 'Observation_3_comp.json'
            result: [ false ]
          - desc: '** Contains non-for existing quantity in many **'
            expression: "component.value.ofType(Quantity) contains 80 '/min'"
            inputfile: 'Observation_3_comp.json'
            result: [ false ]
          - desc: '** In for empty quantity in many **'
            expression: "{} in component.value.ofType(Quantity)"
            inputfile: 'Observation_3_comp.json'
            result: [ ]
          - desc: '** Contains empty quantity in many **'
            expression: "component.value.ofType(Quantity) contains {}"
            inputfile: 'Observation_3_comp.json'
            result: [ ]
          - desc: '** In for existing quantity in one **'
            expression: "80 '/min' in value.ofType(Quantity)"
            inputfile: 'Observation_1.json'
            result: [ true ]
          - desc: '** Contains for existing quantity in one **'
            expression: "value.ofType(Quantity) contains 80 '/min'"
            inputfile: 'Observation_1.json'
            result: [ true ]
          - desc: '** In for non-existing quantity in one **'
            expression: "80 'mm[Hg]' in value.ofType(Quantity)"
            inputfile: 'Observation_1.json'
            result: [ false ]
          - desc: '** Contains non-for existing quantity in one **'
            expression: "value.ofType(Quantity) contains 81 '/min'"
            inputfile: 'Observation_1.json'
            result: [ false ]
          - desc: '** In for empty quantity in many **'
            expression: "{} in value.ofType(Quantity)"
            inputfile: 'Observation_1.json'
            result: [ ]
          - desc: '** Contains empty quantity in many **'
            expression: "value.ofType(Quantity) contains {}"
            inputfile: 'Observation_1.json'
            result: [ ]
      - 'Coding type':
          - desc: '** In for existing coding in many **'
            expression: "http://loinc.org|8480-6||'Systolic blood pressure' in manyCoding"
            result: [ true ]
          - desc: '** Contains for existing coding in many **'
            expression: "manyCoding contains http://loinc.org|8867-4||'Heart rate'"
            result: [ true ]
          - desc: '** In for non-existing coding in many **'
            expression: "http://loinc.org|9999-9||'Non-existent code' in manyCoding"
            result: [ false ]
          - desc: '** Contains non-existing coding in many **'
            expression: "manyCoding contains http://loinc.org|9999-9||'Non-existent code'"
            result: [ false ]
          - desc: '** In for empty literal in many Coding **'
            expression: "{} in manyCoding"
            result: [ ]
          - desc: '** Contains empty literal in many Coding **'
            expression: "manyCoding contains {}"
            result: [ ]
          - desc: '** In for existing coding in one **'
            expression: "http://loinc.org|8867-4||'Heart rate' in oneCoding"
            result: [ true ]
          - desc: '** Contains for existing coding in one **'
            expression: "oneCoding contains http://loinc.org|8867-4||'Heart rate'"
            result: [ true ]
          - desc: '** In for non-existing coding in one **'
            expression: "http://loinc.org|9999-9||'Non-existent code' in oneCoding"
            result: [ false ]
          - desc: '** Contains non-existing coding in one **'
            expression: "oneCoding contains http://loinc.org|9999-9||'Non-existent code'"
            result: [ false ]
          - desc: '** In for empty literal in one Coding **'
            expression: "{} in oneCoding"
            result: [ ]
          - desc: '** Contains empty literal in one Coding **'
            expression: "oneCoding contains {}"
            result: [ ]
          - desc: '** In for empty literal in many Coding **'
            expression: "{} in manyCoding"
            result: [ ]
          - desc: '** Contains empty literal in many Coding **'
            expression: "manyCoding contains {}"
            result: [ ]          
          - desc: '** In for empty Coding in one **'
            expression: "noCoding in oneCoding"
            result: [ ]
          - desc: '** Contains empty Coding in one **'
            expression: "oneCoding contains noCoding"
            result: [ ]
          - desc: '** In for empty Coding in many **'
            expression: "noCoding in manyCoding"
            result: [ ]
          - desc: '** Contains empty Coding in many **'
            expression: "manyCoding contains noCoding"
            result: [ ]
      - 'Integer type':
          - desc: '** In for existing Integer in many **'
            expression: "2 in manyInt"
            result: [ true ]
          - desc: '** Contains for existing Integer in many **'
            expression: "manyInt contains 2"
            result: [ true ]
          - desc: '** In for non-existing Integer in many **'
            expression: "5 in manyInt"
            result: [ false ]
          - desc: '** Contains non-existing Integer in many **'
            expression: "manyInt contains 5"
            result: [ false ]
          - desc: '** In for empty Integer in many **'
            expression: "{} in manyInt"
            result: [ ]
          - desc: '** Contains empty Integer in many **'
            expression: "manyInt contains {}"
            result: [ ]
          - desc: '** In for existing Integer in one **'
            expression: "1 in oneInt"
            result: [ true ]
          - desc: '** Contains for existing Integer in one **'
            expression: "oneInt contains 1"
            result: [ true ]
          - desc: '** In for non-existing Integer in one **'
            expression: "2 in oneInt"
            result: [ false ]
          - desc: '** Contains non-existing Integer in one **'
            expression: "oneInt contains 2"
            result: [ false ]
          - desc: '** In for empty Integer in one **'
            expression: "{} in oneInt"
            result: [ ]
          - desc: '** Contains empty Integer in one **'
            expression: "oneInt contains {}"
            result: [ ]
      - 'String type':
          - desc: '** In for existing String in many **'
            expression: "'test2' in manyString"
            result: [ true ]
          - desc: '** Contains for existing String in many **'
            expression: "manyString contains 'test2'"
            result: [ true ]
          - desc: '** In for non-existing String in many **'
            expression: "'test4' in manyString"
            result: [ false ]
          - desc: '** Contains non-existing String in many **'
            expression: "manyString contains 'test4'"
            result: [ false ]
          - desc: '** In for empty String in many **'
            expression: "{} in manyString"
            result: [ ]
          - desc: '** Contains empty String in many **'
            expression: "manyString contains {}"
            result: [ ]
          - desc: '** In for existing String in one **'
            expression: "'test' in oneString"
            result: [ true ]
          - desc: '** Contains for existing String in one **'
            expression: "oneString contains 'test'"
            result: [ true ]
          - desc: '** In for non-existing String in one **'
            expression: "'test2' in oneString"
            result: [ false ]
          - desc: '** Contains non-existing String in one **'
            expression: "oneString contains 'test2'"
            result: [ false ]
          - desc: '** In for empty String in one **'
            expression: "{} in oneString"
            result: [ ]
          - desc: '** Contains empty String in one **'
            expression: "oneString contains {}"
            result: [ ]
      - 'Boolean type':
          - desc: '** In for existing Boolean in many **'
            expression: "true in manyBoolean"
            result: [ true ]
          - desc: '** Contains for existing Boolean in many **'
            expression: "manyBoolean contains false"
            result: [ true ]
          - desc: '** In for non-existing Boolean in many **'
            expression: "{} in manyBoolean"
            result: [ ]
          - desc: '** Contains non-existing Boolean in many **'
            expression: "manyBoolean contains {}"
            result: [ ]
          - desc: '** In for existing Boolean in one **'
            expression: "true in oneBoolean"
            result: [ true ]
          - desc: '** Contains for existing Boolean in one **'
            expression: "oneBoolean contains true"
            result: [ true ]
          - desc: '** In for non-existing Boolean in one **'
            expression: "false in oneBoolean"
            result: [ false ]
          - desc: '** Contains non-existing Boolean in one **'
            expression: "oneBoolean contains false"
            result: [ false ]
          - desc: '** In for empty Boolean in one **'
            expression: "{} in oneBoolean"
            result: [ ]
          - desc: '** Contains empty Boolean in one **'
            expression: "oneBoolean contains {}"
            result: [ ]
      - 'Decimal type':
          - desc: '** In for existing Decimal in many **'
            expression: "2.5 in manyDecimal"
            result: [ true ]
          - desc: '** Contains for existing Decimal in many **'
            expression: "manyDecimal contains 2.5"
            result: [ true ]
          - desc: '** In for non-existing Decimal in many **'
            expression: "4.5 in manyDecimal"
            result: [ false ]
          - desc: '** Contains non-existing Decimal in many **'
            expression: "manyDecimal contains 4.5"
            result: [ false ]
          - desc: '** In for empty Decimal in many **'
            expression: "{} in manyDecimal"
            result: [ ]
          - desc: '** Contains empty Decimal in many **'
            expression: "manyDecimal contains {}"
            result: [ ]
          - desc: '** In for existing Decimal in one **'
            expression: "1.5 in oneDecimal"
            result: [ true ]
          - desc: '** Contains for existing Decimal in one **'
            expression: "oneDecimal contains 1.5"
            result: [ true ]
          - desc: '** In for non-existing Decimal in one **'
            expression: "2.5 in oneDecimal"
            result: [ false ]
          - desc: '** Contains non-existing Decimal in one **'
            expression: "oneDecimal contains 2.5"
            result: [ false ]
          - desc: '** In for empty Decimal in one **'
            expression: "{} in oneDecimal"
            result: [ ]
          - desc: '** Contains empty Decimal in one **'
            expression: "oneDecimal contains {}"
            result: [ ]
      - 'DateTime type':
          - desc: '** In for existing DateTime in many **'
            expression: "@2023-01-02T14:00:00Z in manyDateTime"
            result: [ true ]
          - desc: '** Contains for existing DateTime in many **'
            expression: "manyDateTime contains @2023-01-03T09:30:00Z"
            result: [ true ]
          - desc: '** In for non-existing DateTime in many **'
            expression: "@2023-01-04T10:00:00Z in manyDateTime"
            result: [ false ]
          - desc: '** Contains non-existing DateTime in many **'
            expression: "manyDateTime contains @2023-01-04T10:00:00Z"
            result: [ false ]
          - desc: '** In for empty literal in many DateTime **'
            expression: "{} in manyDateTime"
            result: [ ]
          - desc: '** Contains empty literal in many DateTime **'
            expression: "manyDateTime contains {}"
            result: [ ]
          - desc: '** In for existing DateTime in one **'
            expression: "@2023-10-15T09:45:00Z in oneDateTime"
            result: [ true ]
          - desc: '** Contains for existing DateTime in one **'
            expression: "oneDateTime contains @2023-10-15T09:45:00Z"
            result: [ true ]
          - desc: '** In for non-existing DateTime in one **'
            expression: "@2023-10-16T09:45:00Z in oneDateTime"
            result: [ false ]
          - desc: '** Contains non-existing DateTime in one **'
            expression: "oneDateTime contains @2023-10-16T09:45:00Z"
            result: [ false ]
          - desc: '** In for empty literal in one DateTime **'
            expression: "{} in oneDateTime"
            result: [ ]
          - desc: '** Contains empty literal in one DateTime **'
            expression: "oneDateTime contains {}"
            result: [ ]
          - desc: '** In for empty DateTime in one **'
            expression: "noDateTime in oneDateTime"
            result: [ ]
          - desc: '** Contains empty DateTime in one **'
            expression: "oneDateTime contains noDateTime"
            result: [ ]
          - desc: '** In for empty DateTime in many **'
            expression: "noDateTime in manyDateTime"
            result: [ ]
          - desc: '** Contains empty DateTime in many **'
            expression: "manyDateTime contains noDateTime"
            result: [ ]
      - 'Date type':
          - desc: '** In for existing Date in many **'
            expression: "@2023-01-02 in manyDate"
            result: [ true ]
          - desc: '** Contains for existing Date in many **'
            expression: "manyDate contains @2023-01-03"
            result: [ true ]
          - desc: '** In for non-existing Date in many **'
            expression: "@2023-01-04 in manyDate"
            result: [ false ]
          - desc: '** Contains non-existing Date in many **'
            expression: "manyDate contains @2023-01-04"
            result: [ false ]
          - desc: '** In for empty literal in many Date **'
            expression: "{} in manyDate"
            result: [ ]
          - desc: '** Contains empty literal in many Date **'
            expression: "manyDate contains {}"
            result: [ ]
          - desc: '** In for existing Date in one **'
            expression: "@2023-10-15 in oneDate"
            result: [ true ]
          - desc: '** Contains for existing Date in one **'
            expression: "oneDate contains @2023-10-15"
            result: [ true ]
          - desc: '** In for non-existing Date in one **'
            expression: "@2023-10-16 in oneDate"
            result: [ false ]
          - desc: '** Contains non-existing Date in one **'
            expression: "oneDate contains @2023-10-16"
            result: [ false ]
          - desc: '** In for empty literal in one Date **'
            expression: "{} in oneDate"
            result: [ ]
          - desc: '** Contains empty literal in one Date **'
            expression: "oneDate contains {}"
            result: [ ]
          - desc: '** In for empty Date in one **'
            expression: "noDate in oneDate"
            result: [ ]
          - desc: '** Contains empty Date in one **'
            expression: "oneDate contains noDate"
            result: [ ]
          - desc: '** In for empty Date in many **'
            expression: "noDate in manyDate"
            result: [ ]
          - desc: '** Contains empty Date in many **'
            expression: "manyDate contains noDate"
            result: [ ]
      - 'Time type':
          - desc: '** In for existing Time in many **'
            expression: "@T14:00:00 in manyTime"
            result: [ true ]
          - desc: '** Contains for existing Time in many **'
            expression: "manyTime contains @T09:30:00"
            result: [ true ]
          - desc: '** In for non-existing Time in many **'
            expression: "@T10:00:00 in manyTime"
            result: [ false ]
          - desc: '** Contains non-existing Time in many **'
            expression: "manyTime contains @T10:00:00"
            result: [ false ]
          - desc: '** In for empty Time in many **'
            expression: "{} in manyTime"
            result: [ ]
          - desc: '** Contains empty Time in many **'
            expression: "manyTime contains {}"
            result: [ ]
          - desc: '** In for existing Time in one **'
            expression: "@T09:45:00 in oneTime"
            result: [ true ]
          - desc: '** Contains for existing Time in one **'
            expression: "oneTime contains @T09:45:00"
            result: [ true ]
          - desc: '** In for non-existing Time in one **'
            expression: "@T10:45:00 in oneTime"
            result: [ false ]
          - desc: '** Contains non-existing Time in one **'
            expression: "oneTime contains @T10:45:00"
            result: [ false ]
          - desc: '** In for empty literal in one Time **'
            expression: "{} in oneTime"
            result: [ ]
          - desc: '** Contains empty literal in one Time **'
            expression: "oneTime contains {}"
            result: [ ]
          - desc: '** In for empty literal in many Time **'
            expression: "{} in manyTime"
            result: [ ]
          - desc: '** Contains empty literal in many Time **'
            expression: "manyTime contains {}"
            result: [ ]  
          - desc: '** In for empty Time in one **'
            expression: "noTime in oneTime"
            result: [ ]
          - desc: '** Contains empty Time in one **'
            expression: "oneTime contains noTime"
            result: [ ]
          - desc: '** In for empty Time in many **'
            expression: "noTime in manyTime"
            result: [ ]
          - desc: '** Contains empty Time in many **'
            expression: "manyTime contains noTime"
            result: [ ]
subject:
  oneInt: 1
  manyInt: [ 1, 2, 3 ]
  oneString: "test"
  manyString: [ "test1", "test2", "test3" ]
  oneBoolean: true
  manyBoolean: [ true, false, true ]
  oneDecimal: 1.5
  manyDecimal: [ 1.5, 2.5, 3.5 ]
  noDateTime: !fhir.dateTime
  oneDateTime: !fhir.dateTime "@2023-10-15T09:45:00Z"
  manyDateTime:
    - !fhir.dateTime "@2023-01-02T14:00:00Z"
    - !fhir.dateTime "@2023-01-03T09:30:00Z"
    - !fhir.dateTime "@2023-01-03T15:45:00Z"
  noDate: !fhir.date
  oneDate: !fhir.date "@2023-10-15"
  manyDate:
    - !fhir.date "@2023-01-02"
    - !fhir.date "@2023-01-03"
    - !fhir.date "@2023-01-05"
  noTime: !fhir.time
  oneTime: !fhir.time "@T09:45:00"
  manyTime:
    - !fhir.time "@T14:00:00"
    - !fhir.time "@T09:30:00"
    - !fhir.time "@T15:45:00"
  noCoding: !fhir.Coding
  oneCoding: !fhir.Coding "http://loinc.org|8867-4||'Heart rate'"
  manyCoding:
    - !fhir.Coding "http://loinc.org|8480-6||'Systolic blood pressure'"
    - !fhir.Coding "http://loinc.org|8867-4||'Heart rate'"
    - !fhir.Coding "http://loinc.org|8462-4||'Diastolic blood pressure'"
